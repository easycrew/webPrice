<!DOCTYPE html>
<html>
<head> 
<meta charset="utf-8" />
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" name="viewport" />
<meta content="yes" name="apple-mobile-web-app-capable" />
<meta content="black" name="apple-mobile-web-app-status-bar-style" />
<meta name="format-detection" content="telephone=no" />
<script type="text/javascript" src="js/jquery-1.9.1.min.js"></script> 
<link rel="stylesheet" href="./css/index.css">
<title>订单详情</title>
</head> 
<body> 
<section class="order-wrap">  
     <div class="order-header"><p id="serviceName"></p><p id="summary"></p><p class="price" id="pay"></p></div>
     <article class="comment">
         &nbsp;&nbsp;&nbsp;&nbsp;订单号：<span id="orderNumber"></span><br/> 
        下单时间：<span id="orderDate"></span><br/> 
        服务时间：<span id="serviceDate"></span><br/> 
        评价时间：<span id="remarkDate"></span><br/> 
     </article>
     <article class="comment">
     &nbsp;&nbsp;&nbsp;&nbsp;状态：<span id="orderStatusName"></span><br/>
     &nbsp;&nbsp;服务码：<span id="serviceCode"></span>
     </article> 
</section>  
<script type="text/javascript">
   $(document).ready(function(){
      var url =window.location.search;    
      var paramJson = {};
      if(url!=undefined&&url!=""){
        var paramsArr = (url.split("?")[1]).split("&"); 
        $.each(paramsArr,function(i){
         var item = paramsArr[i].split("=");
         paramJson[item[0]] = item[1];
        });    
        getOrderDetail();
      }     
      function getOrderDetail(){ 
          $.ajax({
              url: '/yangchebao-weixin-ws/ws/0.1/carwash/getOrderDetail?customerId='+paramJson.customerId+'&orderId='+paramJson.orderId,
              type: 'get', 
              dataType: 'json',
              success: function(data) {
                var item = data.shopList;  
                item.serviceDate = item.serviceDate||"服务后显示时间";
                item.remarkDate = item.remarkDate||"评价后显示时间";
                $("#serviceName").html(item.serviceName); 
                $("#summary").html(item.extraName); 
                $("#pay").html("¥"+item.payment);
                $("#orderNumber").html(item.orderNumber);
                $("#orderDate").html(item.orderDate);
                $("#serviceDate").html(item.serviceDate);
                $("#remarkDate").html(item.remarkDate);
                $("#orderStatusName").html(item.orderStatusName);
                $("#serviceCode").html(item.serviceCode);
              },error:function(xhr){  
              }
          });  
      } 
   });
</script>  
</body>
</html> 